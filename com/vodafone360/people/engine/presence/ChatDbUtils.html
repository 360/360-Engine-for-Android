<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_20) on Wed Jun 09 00:20:39 CEST 2010 -->
<TITLE>
ChatDbUtils (Vodafone 360 People - API Specification)
</TITLE>

<META NAME="date" CONTENT="2010-06-09">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ChatDbUtils (Vodafone 360 People - API Specification)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>

				<img
				src=../../../../../resources/logo.png 
				width=88 height=40 border=0
				>
			</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../../../../com/vodafone360/people/engine/presence/NetworkPresence.html" title="class in com.vodafone360.people.engine.presence"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?com/vodafone360/people/engine/presence/ChatDbUtils.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ChatDbUtils.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.vodafone360.people.engine.presence</FONT>
<BR>
Class ChatDbUtils</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../../resources/inherit.gif" ALT="extended by "><B>com.vodafone360.people.engine.presence.ChatDbUtils</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>ChatDbUtils</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/presence/ChatDbUtils.html#COLUMNS">COLUMNS</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/presence/ChatDbUtils.html#ChatDbUtils()">ChatDbUtils</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/presence/ChatDbUtils.html#cleanOldConversationsExceptForContact(long, com.vodafone360.people.database.DatabaseHelper)">cleanOldConversationsExceptForContact</A></B>(long&nbsp;localContactId,
                                      <A HREF="../../../../../com/vodafone360/people/database/DatabaseHelper.html" title="class in com.vodafone360.people.database">DatabaseHelper</A>&nbsp;dbHelper)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method deletes conversations older than 1 week except for those with
 current contact</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/presence/ChatDbUtils.html#convertUserIds(com.vodafone360.people.datatypes.ChatMessage, com.vodafone360.people.database.DatabaseHelper)">convertUserIds</A></B>(<A HREF="../../../../../com/vodafone360/people/datatypes/ChatMessage.html" title="class in com.vodafone360.people.datatypes">ChatMessage</A>&nbsp;msg,
               <A HREF="../../../../../com/vodafone360/people/database/DatabaseHelper.html" title="class in com.vodafone360.people.database">DatabaseHelper</A>&nbsp;databaseHelper)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/presence/ChatDbUtils.html#deleteConversationById(java.lang.String, com.vodafone360.people.database.DatabaseHelper)">deleteConversationById</A></B>(java.lang.String&nbsp;conversationId,
                       <A HREF="../../../../../com/vodafone360/people/database/DatabaseHelper.html" title="class in com.vodafone360.people.database">DatabaseHelper</A>&nbsp;dbHelper)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method deletes the conversation with the given id from the
 ConversationsTable</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/presence/ChatDbUtils.html#fillInContactDetails(com.vodafone360.people.datatypes.ChatMessage, com.vodafone360.people.database.tables.ActivitiesTable.TimelineSummaryItem, com.vodafone360.people.database.DatabaseHelper, com.vodafone360.people.database.tables.ActivitiesTable.TimelineSummaryItem.Type)">fillInContactDetails</A></B>(<A HREF="../../../../../com/vodafone360/people/datatypes/ChatMessage.html" title="class in com.vodafone360.people.datatypes">ChatMessage</A>&nbsp;msg,
                     <A HREF="../../../../../com/vodafone360/people/database/tables/ActivitiesTable.TimelineSummaryItem.html" title="class in com.vodafone360.people.database.tables">ActivitiesTable.TimelineSummaryItem</A>&nbsp;item,
                     <A HREF="../../../../../com/vodafone360/people/database/DatabaseHelper.html" title="class in com.vodafone360.people.database">DatabaseHelper</A>&nbsp;databaseHelper,
                     <A HREF="../../../../../com/vodafone360/people/database/tables/ActivitiesTable.TimelineSummaryItem.Type.html" title="enum in com.vodafone360.people.database.tables">ActivitiesTable.TimelineSummaryItem.Type</A>&nbsp;incoming)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove hard code</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/presence/ChatDbUtils.html#fillMessageByLocalContactIdAndNetworkId(com.vodafone360.people.datatypes.ChatMessage, com.vodafone360.people.database.DatabaseHelper)">fillMessageByLocalContactIdAndNetworkId</A></B>(<A HREF="../../../../../com/vodafone360/people/datatypes/ChatMessage.html" title="class in com.vodafone360.people.datatypes">ChatMessage</A>&nbsp;chatMessage,
                                        <A HREF="../../../../../com/vodafone360/people/database/DatabaseHelper.html" title="class in com.vodafone360.people.database">DatabaseHelper</A>&nbsp;databaseHelper)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method copies the conversation id and user id into the supplied
 ChatMessage based on its mNetworkId and mLocalContactId</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/presence/ChatDbUtils.html#findUserIdForMessageByLocalContactIdAndNetworkId(com.vodafone360.people.datatypes.ChatMessage, com.vodafone360.people.database.DatabaseHelper)">findUserIdForMessageByLocalContactIdAndNetworkId</A></B>(<A HREF="../../../../../com/vodafone360/people/datatypes/ChatMessage.html" title="class in com.vodafone360.people.datatypes">ChatMessage</A>&nbsp;msg,
                                                 <A HREF="../../../../../com/vodafone360/people/database/DatabaseHelper.html" title="class in com.vodafone360.people.database">DatabaseHelper</A>&nbsp;databaseHelper)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method finds the user id (360 UserId or 3rd-party network id) and
 sets it into the supplied chat message</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/presence/ChatDbUtils.html#getNumberOfUnreadChatMessagesForContactAndNetwork(long, java.lang.String, com.vodafone360.people.database.DatabaseHelper)">getNumberOfUnreadChatMessagesForContactAndNetwork</A></B>(long&nbsp;localContactId,
                                                  java.lang.String&nbsp;network,
                                                  <A HREF="../../../../../com/vodafone360/people/database/DatabaseHelper.html" title="class in com.vodafone360.people.database">DatabaseHelper</A>&nbsp;dbHelper)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method returns the number of unread chat messages for this contact</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/presence/ChatDbUtils.html#saveChatMessageAsATimeline(com.vodafone360.people.datatypes.ChatMessage, com.vodafone360.people.database.tables.ActivitiesTable.TimelineSummaryItem.Type, com.vodafone360.people.database.DatabaseHelper)">saveChatMessageAsATimeline</A></B>(<A HREF="../../../../../com/vodafone360/people/datatypes/ChatMessage.html" title="class in com.vodafone360.people.datatypes">ChatMessage</A>&nbsp;message,
                           <A HREF="../../../../../com/vodafone360/people/database/tables/ActivitiesTable.TimelineSummaryItem.Type.html" title="enum in com.vodafone360.people.database.tables">ActivitiesTable.TimelineSummaryItem.Type</A>&nbsp;type,
                           <A HREF="../../../../../com/vodafone360/people/database/DatabaseHelper.html" title="class in com.vodafone360.people.database">DatabaseHelper</A>&nbsp;databaseHelper)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method saves the supplied</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/presence/ChatDbUtils.html#updateUnsentChatMessage(com.vodafone360.people.database.DatabaseHelper)">updateUnsentChatMessage</A></B>(<A HREF="../../../../../com/vodafone360/people/database/DatabaseHelper.html" title="class in com.vodafone360.people.database">DatabaseHelper</A>&nbsp;dbHelper)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method updates the last outgoing chat message as unsent in
 ActivitiesTable, and removes the conversation id of this message from the
 ConversationsTable.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="COLUMNS"><!-- --></A><H3>
COLUMNS</H3>
<PRE>
protected static final java.lang.String <B>COLUMNS</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../constant-values.html#com.vodafone360.people.engine.presence.ChatDbUtils.COLUMNS">Constant Field Values</A></DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="ChatDbUtils()"><!-- --></A><H3>
ChatDbUtils</H3>
<PRE>
public <B>ChatDbUtils</B>()</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="convertUserIds(com.vodafone360.people.datatypes.ChatMessage, com.vodafone360.people.database.DatabaseHelper)"><!-- --></A><H3>
convertUserIds</H3>
<PRE>
protected static void <B>convertUserIds</B>(<A HREF="../../../../../com/vodafone360/people/datatypes/ChatMessage.html" title="class in com.vodafone360.people.datatypes">ChatMessage</A>&nbsp;msg,
                                     <A HREF="../../../../../com/vodafone360/people/database/DatabaseHelper.html" title="class in com.vodafone360.people.database">DatabaseHelper</A>&nbsp;databaseHelper)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="saveChatMessageAsATimeline(com.vodafone360.people.datatypes.ChatMessage, com.vodafone360.people.database.tables.ActivitiesTable.TimelineSummaryItem.Type, com.vodafone360.people.database.DatabaseHelper)"><!-- --></A><H3>
saveChatMessageAsATimeline</H3>
<PRE>
protected static void <B>saveChatMessageAsATimeline</B>(<A HREF="../../../../../com/vodafone360/people/datatypes/ChatMessage.html" title="class in com.vodafone360.people.datatypes">ChatMessage</A>&nbsp;message,
                                                 <A HREF="../../../../../com/vodafone360/people/database/tables/ActivitiesTable.TimelineSummaryItem.Type.html" title="enum in com.vodafone360.people.database.tables">ActivitiesTable.TimelineSummaryItem.Type</A>&nbsp;type,
                                                 <A HREF="../../../../../com/vodafone360/people/database/DatabaseHelper.html" title="class in com.vodafone360.people.database">DatabaseHelper</A>&nbsp;databaseHelper)</PRE>
<DL>
<DD>This method saves the supplied
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>msg</CODE> - <DD><CODE>type</CODE> - <DD><CODE>databaseHelper</CODE> - </DL>
</DD>
</DL>
<HR>

<A NAME="fillInContactDetails(com.vodafone360.people.datatypes.ChatMessage, com.vodafone360.people.database.tables.ActivitiesTable.TimelineSummaryItem, com.vodafone360.people.database.DatabaseHelper, com.vodafone360.people.database.tables.ActivitiesTable.TimelineSummaryItem.Type)"><!-- --></A><H3>
fillInContactDetails</H3>
<PRE>
private static void <B>fillInContactDetails</B>(<A HREF="../../../../../com/vodafone360/people/datatypes/ChatMessage.html" title="class in com.vodafone360.people.datatypes">ChatMessage</A>&nbsp;msg,
                                         <A HREF="../../../../../com/vodafone360/people/database/tables/ActivitiesTable.TimelineSummaryItem.html" title="class in com.vodafone360.people.database.tables">ActivitiesTable.TimelineSummaryItem</A>&nbsp;item,
                                         <A HREF="../../../../../com/vodafone360/people/database/DatabaseHelper.html" title="class in com.vodafone360.people.database">DatabaseHelper</A>&nbsp;databaseHelper,
                                         <A HREF="../../../../../com/vodafone360/people/database/tables/ActivitiesTable.TimelineSummaryItem.Type.html" title="enum in com.vodafone360.people.database.tables">ActivitiesTable.TimelineSummaryItem.Type</A>&nbsp;incoming)</PRE>
<DL>
<DD>Remove hard code
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>msg</CODE> - <DD><CODE>item</CODE> - <DD><CODE>databaseHelper</CODE> - <DD><CODE>incoming</CODE> - </DL>
</DD>
</DL>
<HR>

<A NAME="fillMessageByLocalContactIdAndNetworkId(com.vodafone360.people.datatypes.ChatMessage, com.vodafone360.people.database.DatabaseHelper)"><!-- --></A><H3>
fillMessageByLocalContactIdAndNetworkId</H3>
<PRE>
protected static void <B>fillMessageByLocalContactIdAndNetworkId</B>(<A HREF="../../../../../com/vodafone360/people/datatypes/ChatMessage.html" title="class in com.vodafone360.people.datatypes">ChatMessage</A>&nbsp;chatMessage,
                                                              <A HREF="../../../../../com/vodafone360/people/database/DatabaseHelper.html" title="class in com.vodafone360.people.database">DatabaseHelper</A>&nbsp;databaseHelper)</PRE>
<DL>
<DD>This method copies the conversation id and user id into the supplied
 ChatMessage based on its mNetworkId and mLocalContactId
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>chatMessage</CODE> - ChatMessage<DD><CODE>databaseHelper</CODE> - Databasehelper</DL>
</DD>
</DL>
<HR>

<A NAME="findUserIdForMessageByLocalContactIdAndNetworkId(com.vodafone360.people.datatypes.ChatMessage, com.vodafone360.people.database.DatabaseHelper)"><!-- --></A><H3>
findUserIdForMessageByLocalContactIdAndNetworkId</H3>
<PRE>
protected static void <B>findUserIdForMessageByLocalContactIdAndNetworkId</B>(<A HREF="../../../../../com/vodafone360/people/datatypes/ChatMessage.html" title="class in com.vodafone360.people.datatypes">ChatMessage</A>&nbsp;msg,
                                                                       <A HREF="../../../../../com/vodafone360/people/database/DatabaseHelper.html" title="class in com.vodafone360.people.database">DatabaseHelper</A>&nbsp;databaseHelper)</PRE>
<DL>
<DD>This method finds the user id (360 UserId or 3rd-party network id) and
 sets it into the supplied chat message
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>msg</CODE> - ChatMessage - the supplied chat message<DD><CODE>databaseHelper</CODE> - DatabaseHelper - the database</DL>
</DD>
</DL>
<HR>

<A NAME="deleteConversationById(java.lang.String, com.vodafone360.people.database.DatabaseHelper)"><!-- --></A><H3>
deleteConversationById</H3>
<PRE>
protected static void <B>deleteConversationById</B>(java.lang.String&nbsp;conversationId,
                                             <A HREF="../../../../../com/vodafone360/people/database/DatabaseHelper.html" title="class in com.vodafone360.people.database">DatabaseHelper</A>&nbsp;dbHelper)</PRE>
<DL>
<DD>This method deletes the conversation with the given id from the
 ConversationsTable
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>conversationId</CODE> - String - the conversation id<DD><CODE>dbHelper</CODE> - DatabaseHelper - the database</DL>
</DD>
</DL>
<HR>

<A NAME="cleanOldConversationsExceptForContact(long, com.vodafone360.people.database.DatabaseHelper)"><!-- --></A><H3>
cleanOldConversationsExceptForContact</H3>
<PRE>
protected static void <B>cleanOldConversationsExceptForContact</B>(long&nbsp;localContactId,
                                                            <A HREF="../../../../../com/vodafone360/people/database/DatabaseHelper.html" title="class in com.vodafone360.people.database">DatabaseHelper</A>&nbsp;dbHelper)</PRE>
<DL>
<DD>This method deletes conversations older than 1 week except for those with
 current contact
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>localContactId</CODE> - long- current contact mLocalContactId<DD><CODE>dbHelper</CODE> - DatabaseHelper - the database</DL>
</DD>
</DL>
<HR>

<A NAME="getNumberOfUnreadChatMessagesForContactAndNetwork(long, java.lang.String, com.vodafone360.people.database.DatabaseHelper)"><!-- --></A><H3>
getNumberOfUnreadChatMessagesForContactAndNetwork</H3>
<PRE>
public static int <B>getNumberOfUnreadChatMessagesForContactAndNetwork</B>(long&nbsp;localContactId,
                                                                    java.lang.String&nbsp;network,
                                                                    <A HREF="../../../../../com/vodafone360/people/database/DatabaseHelper.html" title="class in com.vodafone360.people.database">DatabaseHelper</A>&nbsp;dbHelper)</PRE>
<DL>
<DD>This method returns the number of unread chat messages for this contact
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>localContactId</CODE> - long - the contact's mLocalContactId<DD><CODE>network</CODE> - String - the specified network, @see SocialNetwork<DD><CODE>dbHelper</CODE> - Database - the database
<DT><B>Returns:</B><DD>int - the number of unread chat messages for the specified
         contact</DL>
</DD>
</DL>
<HR>

<A NAME="updateUnsentChatMessage(com.vodafone360.people.database.DatabaseHelper)"><!-- --></A><H3>
updateUnsentChatMessage</H3>
<PRE>
protected static void <B>updateUnsentChatMessage</B>(<A HREF="../../../../../com/vodafone360/people/database/DatabaseHelper.html" title="class in com.vodafone360.people.database">DatabaseHelper</A>&nbsp;dbHelper)</PRE>
<DL>
<DD>This method updates the last outgoing chat message as unsent in
 ActivitiesTable, and removes the conversation id of this message from the
 ConversationsTable. So that next time when user tries to send a message a
 new conversation id will be requested. The message sending might fail
 because the conversation id might have expired (PAND-204).
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>dbHelper</CODE> - DatabaseHelper - database</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>

				<img 
				src=../../../../../resources/logo.png 
				width=88 height=40
				>
			</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../../../../com/vodafone360/people/engine/presence/NetworkPresence.html" title="class in com.vodafone360.people.engine.presence"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?com/vodafone360/people/engine/presence/ChatDbUtils.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ChatDbUtils.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

				<p align=right>
				<font class=NavBarFont1 size=-2>
				JavaDoc<br>
				</font>
				</p>
			
</BODY>
</HTML>

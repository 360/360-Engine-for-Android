<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_20) on Wed Jun 09 00:20:37 CEST 2010 -->
<TITLE>
BaseEngine (Vodafone 360 People - API Specification)
</TITLE>

<META NAME="date" CONTENT="2010-06-09">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="BaseEngine (Vodafone 360 People - API Specification)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>

				<img
				src=../../../../resources/logo.png 
				width=88 height=40 border=0
				>
			</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../../../com/vodafone360/people/engine/BaseEngine.IEngineEventCallback.html" title="interface in com.vodafone360.people.engine"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?com/vodafone360/people/engine/BaseEngine.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="BaseEngine.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.vodafone360.people.engine</FONT>
<BR>
Class BaseEngine</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><B>com.vodafone360.people.engine.BaseEngine</B>
</PRE>
<DL>
<DT><B>Direct Known Subclasses:</B> <DD><A HREF="../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html" title="class in com.vodafone360.people.engine.activities">ActivitiesEngine</A>, <A HREF="../../../../com/vodafone360/people/engine/contactsync/ContactSyncEngine.html" title="class in com.vodafone360.people.engine.contactsync">ContactSyncEngine</A>, <A HREF="../../../../com/vodafone360/people/engine/content/ContentEngine.html" title="class in com.vodafone360.people.engine.content">ContentEngine</A>, <A HREF="../../../../com/vodafone360/people/engine/groups/GroupsEngine.html" title="class in com.vodafone360.people.engine.groups">GroupsEngine</A>, <A HREF="../../../../com/vodafone360/people/engine/identities/IdentityEngine.html" title="class in com.vodafone360.people.engine.identities">IdentityEngine</A>, <A HREF="../../../../com/vodafone360/people/engine/login/LoginEngine.html" title="class in com.vodafone360.people.engine.login">LoginEngine</A>, <A HREF="../../../../com/vodafone360/people/engine/presence/PresenceEngine.html" title="class in com.vodafone360.people.engine.presence">PresenceEngine</A>, <A HREF="../../../../com/vodafone360/people/engine/meprofile/SyncMeEngine.html" title="class in com.vodafone360.people.engine.meprofile">SyncMeEngine</A>, <A HREF="../../../../com/vodafone360/people/engine/upgrade/UpgradeEngine.html" title="class in com.vodafone360.people.engine.upgrade">UpgradeEngine</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public abstract class <B>BaseEngine</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
Base-class for all Engines implemented by the People Client.
<P>

<P>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->

<A NAME="nested_class_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Nested Class Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;interface</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/vodafone360/people/engine/BaseEngine.IEngineEventCallback.html" title="interface in com.vodafone360.people.engine">BaseEngine.IEngineEventCallback</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Interface which must be implemented by engine client.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/vodafone360/people/engine/BaseEngine.UiQueueItem.html" title="class in com.vodafone360.people.engine">BaseEngine.UiQueueItem</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Class to encapsulate client request information.</TD>
</TR>
</TABLE>
&nbsp;<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.lang.Integer</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/vodafone360/people/engine/BaseEngine.html#mActiveRequestId">mActiveRequestId</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set by the <A HREF="../../../../com/vodafone360/people/engine/BaseEngine.html#setReqId(int)"><CODE>setReqId(int)</CODE></A> function to store the request ID when a
 engine makes a request to the server.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../com/vodafone360/people/service/ServiceUiRequest.html" title="enum in com.vodafone360.people.service">ServiceUiRequest</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/vodafone360/people/engine/BaseEngine.html#mActiveUiRequest">mActiveUiRequest</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Current UI Request if one is active, otherwise null.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.lang.Boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/vodafone360/people/engine/BaseEngine.html#mCommsResponseOutstanding">mCommsResponseOutstanding</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;true if a Comms response is waiting in the comms response queue for
 processing, false otherwise.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.Long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/vodafone360/people/engine/BaseEngine.html#mCurrentTimeout">mCurrentTimeout</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Current timeout based on current time in milliseconds if one is pending,
 otherwise null.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/vodafone360/people/engine/BaseEngine.html#mDeactivated">mDeactivated</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;true if the engine is deactivated (for test purposes), false otherwise.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../com/vodafone360/people/engine/EngineManager.EngineId.html" title="enum in com.vodafone360.people.engine">EngineManager.EngineId</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/vodafone360/people/engine/BaseEngine.html#mEngineId">mEngineId</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;All engines must set this field to a unique ID</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../com/vodafone360/people/engine/BaseEngine.IEngineEventCallback.html" title="interface in com.vodafone360.people.engine">BaseEngine.IEngineEventCallback</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/vodafone360/people/engine/BaseEngine.html#mEventCallback">mEventCallback</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Callback provided by <A HREF="../../../../com/vodafone360/people/engine/EngineManager.html" title="class in com.vodafone360.people.engine"><CODE>EngineManager</CODE></A></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.lang.Object</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/vodafone360/people/engine/BaseEngine.html#mMutex">mMutex</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mutex for thread synchronization</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.util.concurrent.ConcurrentLinkedQueue&lt;<A HREF="../../../../com/vodafone360/people/engine/BaseEngine.UiQueueItem.html" title="class in com.vodafone360.people.engine">BaseEngine.UiQueueItem</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/vodafone360/people/engine/BaseEngine.html#mUiQueue">mUiQueue</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Used to implement the UI request queue.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/vodafone360/people/engine/BaseEngine.html#mUiRequestOutstanding">mUiRequestOutstanding</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;true if a UI request is waiting in the UI request queue for processing,
 false otherwise.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/vodafone360/people/engine/BaseEngine.html#resetDone">resetDone</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Flag set when a request to reset the engine is made and the engine has performed its reset tasks.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../com/vodafone360/people/engine/BaseEngine.html#BaseEngine(com.vodafone360.people.engine.BaseEngine.IEngineEventCallback)">BaseEngine</A></B>(<A HREF="../../../../com/vodafone360/people/engine/BaseEngine.IEngineEventCallback.html" title="interface in com.vodafone360.people.engine">BaseEngine.IEngineEventCallback</A>&nbsp;eventCallback)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Public constructor.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/vodafone360/people/engine/BaseEngine.html#addUiRequestToQueue(com.vodafone360.people.service.ServiceUiRequest, java.lang.Object)">addUiRequestToQueue</A></B>(<A HREF="../../../../com/vodafone360/people/service/ServiceUiRequest.html" title="enum in com.vodafone360.people.service">ServiceUiRequest</A>&nbsp;request,
                    java.lang.Object&nbsp;data)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Helper function for use by the derived engine class to add a UI request
 to the queue.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/vodafone360/people/engine/BaseEngine.html#clearReset()">clearReset</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clears the reset flag.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/vodafone360/people/engine/BaseEngine.html#clearTimeout()">clearTimeout</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Cancels the current timer (has no effect if the timer was not active).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/vodafone360/people/engine/BaseEngine.html#completeUiRequest(com.vodafone360.people.service.ServiceStatus)">completeUiRequest</A></B>(<A HREF="../../../../com/vodafone360/people/service/ServiceStatus.html" title="enum in com.vodafone360.people.service">ServiceStatus</A>&nbsp;status)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A helper function that can be called by the derived engine implementation
 to complete the current UI request.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/vodafone360/people/engine/BaseEngine.html#completeUiRequest(com.vodafone360.people.service.ServiceStatus, java.lang.Object)">completeUiRequest</A></B>(<A HREF="../../../../com/vodafone360/people/service/ServiceStatus.html" title="enum in com.vodafone360.people.service">ServiceStatus</A>&nbsp;status,
                  java.lang.Object&nbsp;data)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A helper function that can be called by the derived engine implementation
 to complete the current UI request.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/vodafone360/people/engine/BaseEngine.html#deactivateEngine()">deactivateEngine</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Called by the framework to deactivate the engine.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/vodafone360/people/engine/BaseEngine.html#emptyUiRequestQueue()">emptyUiRequestQueue</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Called by engines in the UI thread to cancel all UI requests.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/vodafone360/people/engine/EngineManager.EngineId.html" title="enum in com.vodafone360.people.engine">EngineManager.EngineId</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/vodafone360/people/engine/BaseEngine.html#engineId()">engineId</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return id for this engine.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../../com/vodafone360/people/engine/BaseEngine.UiQueueItem.html" title="class in com.vodafone360.people.engine">BaseEngine.UiQueueItem</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/vodafone360/people/engine/BaseEngine.html#fetchNextUiRequest()">fetchNextUiRequest</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Helper function for use by the derived engine class to fetch the next UI
 request from the queue.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../../../com/vodafone360/people/service/ServiceStatus.html" title="enum in com.vodafone360.people.service">ServiceStatus</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/vodafone360/people/engine/BaseEngine.html#genericHandleResponseType(java.lang.String, java.util.List)">genericHandleResponseType</A></B>(java.lang.String&nbsp;requiredResp,
                          java.util.List&lt;<A HREF="../../../../com/vodafone360/people/datatypes/BaseDataType.html" title="class in com.vodafone360.people.datatypes">BaseDataType</A>&gt;&nbsp;data)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A helper function for the derived engine implementation to use.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/vodafone360/people/engine/BaseEngine.html#getCurrentTimeout()">getCurrentTimeout</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The result of this function must be returned by getNextRunTime() instead
 of -1 for the timer to work.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/vodafone360/people/engine/BaseEngine.html#getNextRunTime()">getNextRunTime</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the absolute time in milliseconds when the engine needs to run
 (based on System.currentTimeMillis).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/vodafone360/people/engine/BaseEngine.html#getReset()">getReset</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the reset flag.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/vodafone360/people/engine/BaseEngine.html#isCommsResponseOutstanding()">isCommsResponseOutstanding</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Should be called by the getNextRunTime() and run() functions to check if
 there are any comms responses waiting to be processed.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/vodafone360/people/engine/BaseEngine.html#isDeactivated()">isDeactivated</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Called by the framework to determine if the engine should run.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/vodafone360/people/engine/BaseEngine.html#isUiRequestOutstanding()">isUiRequestOutstanding</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Helper function to determine if there is any work outstanding in the UI
 request queue.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/vodafone360/people/engine/BaseEngine.html#onCommsInMessage()">onCommsInMessage</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Called by the EngineManager when a comms response is received.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/vodafone360/people/engine/BaseEngine.html#onCreate()">onCreate</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This will be called immediately after creation.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/vodafone360/people/engine/BaseEngine.html#onDestroy()">onDestroy</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This will be called just before the engine is shutdown.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected abstract &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/vodafone360/people/engine/BaseEngine.html#onRequestComplete()">onRequestComplete</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This function must be implemented in the derived engine implementation.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/vodafone360/people/engine/BaseEngine.html#onReset()">onReset</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Engines can override this function to do any special handling when a reset is needed.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected abstract &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/vodafone360/people/engine/BaseEngine.html#onTimeoutEvent()">onTimeoutEvent</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The derived engine implementation must call the processTimeout() function
 (normally from within the run() implementation), otherwise this will not
 be called.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/vodafone360/people/engine/BaseEngine.html#onUiRequestComplete(com.vodafone360.people.service.ServiceUiRequest, com.vodafone360.people.service.ServiceStatus, java.lang.Object)">onUiRequestComplete</A></B>(<A HREF="../../../../com/vodafone360/people/service/ServiceUiRequest.html" title="enum in com.vodafone360.people.service">ServiceUiRequest</A>&nbsp;request,
                    <A HREF="../../../../com/vodafone360/people/service/ServiceStatus.html" title="enum in com.vodafone360.people.service">ServiceStatus</A>&nbsp;status,
                    java.lang.Object&nbsp;data)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Helper function which must be called to complete a UI request.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/vodafone360/people/engine/BaseEngine.html#processCommsInQueue()">processCommsInQueue</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Should be called by the run() function to process the comms in queue.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected abstract &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/vodafone360/people/engine/BaseEngine.html#processCommsResponse(com.vodafone360.people.service.io.ResponseQueue.Response)">processCommsResponse</A></B>(<A HREF="../../../../com/vodafone360/people/service/io/ResponseQueue.Response.html" title="class in com.vodafone360.people.service.io">ResponseQueue.Response</A>&nbsp;resp)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The derived engine implementation must call the processCommsInQueue()
 function (normally from within the run() implementation), otherwise this
 will not be called.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/vodafone360/people/engine/BaseEngine.html#processTimeout()">processTimeout</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This function must be called by run() in the derived engine
 implementation for the timer to work.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/vodafone360/people/engine/BaseEngine.html#processUiQueue()">processUiQueue</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Should be called by the run() function to process the UI request queue.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected abstract &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/vodafone360/people/engine/BaseEngine.html#processUiRequest(com.vodafone360.people.service.ServiceUiRequest, java.lang.Object)">processUiRequest</A></B>(<A HREF="../../../../com/vodafone360/people/service/ServiceUiRequest.html" title="enum in com.vodafone360.people.service">ServiceUiRequest</A>&nbsp;requestId,
                 java.lang.Object&nbsp;data)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The derived engine implementation must call the processUiQueue() function
 (normally from within the run() implementation), otherwise this will not
 be called.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/vodafone360/people/engine/BaseEngine.html#run()">run</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Do some work but anything that takes longer than 1 second must be broken
 up.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/vodafone360/people/engine/BaseEngine.html#setReqId(int)">setReqId</A></B>(int&nbsp;reqId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Called by engines when an API call is made to ensure that the response
 processed matches the request.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/vodafone360/people/engine/BaseEngine.html#setReset(boolean)">setReset</A></B>(boolean&nbsp;value)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the reset flag.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/vodafone360/people/engine/BaseEngine.html#setTimeout(long)">setTimeout</A></B>(long&nbsp;timeoutVal)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Helper function that can be called by the derived engine implementation
 to start an asynchronous timer.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="mEngineId"><!-- --></A><H3>
mEngineId</H3>
<PRE>
protected <A HREF="../../../../com/vodafone360/people/engine/EngineManager.EngineId.html" title="enum in com.vodafone360.people.engine">EngineManager.EngineId</A> <B>mEngineId</B></PRE>
<DL>
<DD>All engines must set this field to a unique ID
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="mEventCallback"><!-- --></A><H3>
mEventCallback</H3>
<PRE>
protected <A HREF="../../../../com/vodafone360/people/engine/BaseEngine.IEngineEventCallback.html" title="interface in com.vodafone360.people.engine">BaseEngine.IEngineEventCallback</A> <B>mEventCallback</B></PRE>
<DL>
<DD>Callback provided by <A HREF="../../../../com/vodafone360/people/engine/EngineManager.html" title="class in com.vodafone360.people.engine"><CODE>EngineManager</CODE></A>
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="mActiveUiRequest"><!-- --></A><H3>
mActiveUiRequest</H3>
<PRE>
protected <A HREF="../../../../com/vodafone360/people/service/ServiceUiRequest.html" title="enum in com.vodafone360.people.service">ServiceUiRequest</A> <B>mActiveUiRequest</B></PRE>
<DL>
<DD>Current UI Request if one is active, otherwise null.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../com/vodafone360/people/service/ServiceUiRequest.html" title="enum in com.vodafone360.people.service"><CODE>ServiceUiRequest</CODE></A></DL>
</DL>
<HR>

<A NAME="mCurrentTimeout"><!-- --></A><H3>
mCurrentTimeout</H3>
<PRE>
protected volatile java.lang.Long <B>mCurrentTimeout</B></PRE>
<DL>
<DD>Current timeout based on current time in milliseconds if one is pending,
 otherwise null.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="mCommsResponseOutstanding"><!-- --></A><H3>
mCommsResponseOutstanding</H3>
<PRE>
private java.lang.Boolean <B>mCommsResponseOutstanding</B></PRE>
<DL>
<DD>true if a Comms response is waiting in the comms response queue for
 processing, false otherwise.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="mActiveRequestId"><!-- --></A><H3>
mActiveRequestId</H3>
<PRE>
private java.lang.Integer <B>mActiveRequestId</B></PRE>
<DL>
<DD>Set by the <A HREF="../../../../com/vodafone360/people/engine/BaseEngine.html#setReqId(int)"><CODE>setReqId(int)</CODE></A> function to store the request ID when a
 engine makes a request to the server. All responses received will then be
 filtered by this value automatically inside the
 <A HREF="../../../../com/vodafone360/people/engine/BaseEngine.html#processCommsInQueue()"><CODE>processCommsInQueue()</CODE></A> function.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="mUiRequestOutstanding"><!-- --></A><H3>
mUiRequestOutstanding</H3>
<PRE>
private boolean <B>mUiRequestOutstanding</B></PRE>
<DL>
<DD>true if a UI request is waiting in the UI request queue for processing,
 false otherwise.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="mDeactivated"><!-- --></A><H3>
mDeactivated</H3>
<PRE>
private boolean <B>mDeactivated</B></PRE>
<DL>
<DD>true if the engine is deactivated (for test purposes), false otherwise.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="mMutex"><!-- --></A><H3>
mMutex</H3>
<PRE>
private java.lang.Object <B>mMutex</B></PRE>
<DL>
<DD>mutex for thread synchronization
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="resetDone"><!-- --></A><H3>
resetDone</H3>
<PRE>
private boolean <B>resetDone</B></PRE>
<DL>
<DD>Flag set when a request to reset the engine is made and the engine has performed its reset tasks.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="mUiQueue"><!-- --></A><H3>
mUiQueue</H3>
<PRE>
private final java.util.concurrent.ConcurrentLinkedQueue&lt;<A HREF="../../../../com/vodafone360/people/engine/BaseEngine.UiQueueItem.html" title="class in com.vodafone360.people.engine">BaseEngine.UiQueueItem</A>&gt; <B>mUiQueue</B></PRE>
<DL>
<DD>Used to implement the UI request queue.
<P>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="BaseEngine(com.vodafone360.people.engine.BaseEngine.IEngineEventCallback)"><!-- --></A><H3>
BaseEngine</H3>
<PRE>
public <B>BaseEngine</B>(<A HREF="../../../../com/vodafone360/people/engine/BaseEngine.IEngineEventCallback.html" title="interface in com.vodafone360.people.engine">BaseEngine.IEngineEventCallback</A>&nbsp;eventCallback)</PRE>
<DL>
<DD>Public constructor.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>eventCallback</CODE> - This interface must be implemented by the engine
            client</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="getNextRunTime()"><!-- --></A><H3>
getNextRunTime</H3>
<PRE>
public abstract long <B>getNextRunTime</B>()</PRE>
<DL>
<DD>Return the absolute time in milliseconds when the engine needs to run
 (based on System.currentTimeMillis). (Maybe add currentTime in the future
 to use as the current time, to enable JUnit tests to validate timeout
 functionality).
<P>
<DD><DL>

<DT><B>Returns:</B><DD>-1 never needs to run, 0 needs to run as soon as possible,
         CurrentTime + 60000 to run in 1 minute, etc.</DL>
</DD>
</DL>
<HR>

<A NAME="run()"><!-- --></A><H3>
run</H3>
<PRE>
public abstract void <B>run</B>()</PRE>
<DL>
<DD>Do some work but anything that takes longer than 1 second must be broken
 up. (Maybe add currentTime as parameter, to enable JUnit tests to
 validate timeout functionality)
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="onCreate()"><!-- --></A><H3>
onCreate</H3>
<PRE>
public abstract void <B>onCreate</B>()</PRE>
<DL>
<DD>This will be called immediately after creation.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="onDestroy()"><!-- --></A><H3>
onDestroy</H3>
<PRE>
public abstract void <B>onDestroy</B>()</PRE>
<DL>
<DD>This will be called just before the engine is shutdown.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="addUiRequestToQueue(com.vodafone360.people.service.ServiceUiRequest, java.lang.Object)"><!-- --></A><H3>
addUiRequestToQueue</H3>
<PRE>
public void <B>addUiRequestToQueue</B>(<A HREF="../../../../com/vodafone360/people/service/ServiceUiRequest.html" title="enum in com.vodafone360.people.service">ServiceUiRequest</A>&nbsp;request,
                                java.lang.Object&nbsp;data)</PRE>
<DL>
<DD>Helper function for use by the derived engine class to add a UI request
 to the queue. This will be run from the UI thread
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="engineId()"><!-- --></A><H3>
engineId</H3>
<PRE>
public <A HREF="../../../../com/vodafone360/people/engine/EngineManager.EngineId.html" title="enum in com.vodafone360.people.engine">EngineManager.EngineId</A> <B>engineId</B>()</PRE>
<DL>
<DD>Return id for this engine.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>EngineId identifying concrete engine</DL>
</DD>
</DL>
<HR>

<A NAME="fetchNextUiRequest()"><!-- --></A><H3>
fetchNextUiRequest</H3>
<PRE>
private <A HREF="../../../../com/vodafone360/people/engine/BaseEngine.UiQueueItem.html" title="class in com.vodafone360.people.engine">BaseEngine.UiQueueItem</A> <B>fetchNextUiRequest</B>()</PRE>
<DL>
<DD>Helper function for use by the derived engine class to fetch the next UI
 request from the queue. Returns null if the queue is empty.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="isUiRequestOutstanding()"><!-- --></A><H3>
isUiRequestOutstanding</H3>
<PRE>
protected boolean <B>isUiRequestOutstanding</B>()</PRE>
<DL>
<DD>Helper function to determine if there is any work outstanding in the UI
 request queue. Returns false if the queue is empty.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="onUiRequestComplete(com.vodafone360.people.service.ServiceUiRequest, com.vodafone360.people.service.ServiceStatus, java.lang.Object)"><!-- --></A><H3>
onUiRequestComplete</H3>
<PRE>
private void <B>onUiRequestComplete</B>(<A HREF="../../../../com/vodafone360/people/service/ServiceUiRequest.html" title="enum in com.vodafone360.people.service">ServiceUiRequest</A>&nbsp;request,
                                 <A HREF="../../../../com/vodafone360/people/service/ServiceStatus.html" title="enum in com.vodafone360.people.service">ServiceStatus</A>&nbsp;status,
                                 java.lang.Object&nbsp;data)</PRE>
<DL>
<DD>Helper function which must be called to complete a UI request. Normally
 this will not be called directly by the derived engine implementation.
 Instead the completeUiRequest function should be used.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>request</CODE> - The request Id to complete<DD><CODE>status</CODE> - The ServiceStatus code<DD><CODE>data</CODE> - Response data (object type is request specific)</DL>
</DD>
</DL>
<HR>

<A NAME="processCommsResponse(com.vodafone360.people.service.io.ResponseQueue.Response)"><!-- --></A><H3>
processCommsResponse</H3>
<PRE>
protected abstract void <B>processCommsResponse</B>(<A HREF="../../../../com/vodafone360/people/service/io/ResponseQueue.Response.html" title="class in com.vodafone360.people.service.io">ResponseQueue.Response</A>&nbsp;resp)</PRE>
<DL>
<DD>The derived engine implementation must call the processCommsInQueue()
 function (normally from within the run() implementation), otherwise this
 will not be called. This function is called for each Comms response that
 arrives on the in queue.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>resp</CODE> - The comms response</DL>
</DD>
</DL>
<HR>

<A NAME="processUiRequest(com.vodafone360.people.service.ServiceUiRequest, java.lang.Object)"><!-- --></A><H3>
processUiRequest</H3>
<PRE>
protected abstract void <B>processUiRequest</B>(<A HREF="../../../../com/vodafone360/people/service/ServiceUiRequest.html" title="enum in com.vodafone360.people.service">ServiceUiRequest</A>&nbsp;requestId,
                                         java.lang.Object&nbsp;data)</PRE>
<DL>
<DD>The derived engine implementation must call the processUiQueue() function
 (normally from within the run() implementation), otherwise this will not
 be called. This function is called for each UI request that arrives on
 the queue. It should start processing the request. If this function takes
 longer than 1 second to complete, it should be broken up. Once a request
 is finished the processUiRequest function must be called.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>requestId</CODE> - The UI request ID<DD><CODE>data</CODE> - Request data (object type is request specific)</DL>
</DD>
</DL>
<HR>

<A NAME="onTimeoutEvent()"><!-- --></A><H3>
onTimeoutEvent</H3>
<PRE>
protected abstract void <B>onTimeoutEvent</B>()</PRE>
<DL>
<DD>The derived engine implementation must call the processTimeout() function
 (normally from within the run() implementation), otherwise this will not
 be called. This function will be called when a timeout occurs (started by
 setTimeout and cancelled by clearTimeout). If this function takes longer
 than 1 second to complete it should be broken up.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="onCommsInMessage()"><!-- --></A><H3>
onCommsInMessage</H3>
<PRE>
public void <B>onCommsInMessage</B>()</PRE>
<DL>
<DD>Called by the EngineManager when a comms response is received. Will set
 the response outstanding flag and kick the worker thread.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="isCommsResponseOutstanding()"><!-- --></A><H3>
isCommsResponseOutstanding</H3>
<PRE>
protected boolean <B>isCommsResponseOutstanding</B>()</PRE>
<DL>
<DD>Should be called by the getNextRunTime() and run() functions to check if
 there are any comms responses waiting to be processed.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>true if there are 1 or more responses to process.</DL>
</DD>
</DL>
<HR>

<A NAME="processCommsInQueue()"><!-- --></A><H3>
processCommsInQueue</H3>
<PRE>
protected boolean <B>processCommsInQueue</B>()</PRE>
<DL>
<DD>Should be called by the run() function to process the comms in queue.
 Calling this function will result in the processCommsResponse function
 being called once. The derived engine implementation should do its
 processing of each response in that function. If the engine set the
 request ID using the setReqId function then messages which don't match
 will be taken off the queue and deleted.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>true if a response was taken from the queue and processed.</DL>
</DD>
</DL>
<HR>

<A NAME="genericHandleResponseType(java.lang.String, java.util.List)"><!-- --></A><H3>
genericHandleResponseType</H3>
<PRE>
public static <A HREF="../../../../com/vodafone360/people/service/ServiceStatus.html" title="enum in com.vodafone360.people.service">ServiceStatus</A> <B>genericHandleResponseType</B>(java.lang.String&nbsp;requiredResp,
                                                      java.util.List&lt;<A HREF="../../../../com/vodafone360/people/datatypes/BaseDataType.html" title="class in com.vodafone360.people.datatypes">BaseDataType</A>&gt;&nbsp;data)</PRE>
<DL>
<DD>A helper function for the derived engine implementation to use. It checks
 the returned comms response data against the expected type and handles
 all common error cases.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>requiredResp</CODE> - The expected type name<DD><CODE>data</CODE> - The data received from the comms response
<DT><B>Returns:</B><DD>SUCCESS if the first element in the list is of the expected type,
         ERROR_COMMS if the first element in the list is an unexpected
         type, ERROR_COMMS_BAD_RESPONSE if data is not valid for specyfied
         type or null otherwise if the data is of type ZError, a suitable
         error code.</DL>
</DD>
</DL>
<HR>

<A NAME="processUiQueue()"><!-- --></A><H3>
processUiQueue</H3>
<PRE>
protected boolean <B>processUiQueue</B>()</PRE>
<DL>
<DD>Should be called by the run() function to process the UI request queue.
 Calling this function will result in the processUiRequest function being
 called once and this will be set to the active request. The derived
 engine implementation should do its processing of each request in that
 function. Note the engine must not process any more requests until the
 current one has been completed.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>true if a response was taken from the queue and processed.</DL>
</DD>
</DL>
<HR>

<A NAME="completeUiRequest(com.vodafone360.people.service.ServiceStatus)"><!-- --></A><H3>
completeUiRequest</H3>
<PRE>
protected void <B>completeUiRequest</B>(<A HREF="../../../../com/vodafone360/people/service/ServiceStatus.html" title="enum in com.vodafone360.people.service">ServiceStatus</A>&nbsp;status)</PRE>
<DL>
<DD>A helper function that can be called by the derived engine implementation
 to complete the current UI request.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>status</CODE> - The result of the request</DL>
</DD>
</DL>
<HR>

<A NAME="onRequestComplete()"><!-- --></A><H3>
onRequestComplete</H3>
<PRE>
protected abstract void <B>onRequestComplete</B>()</PRE>
<DL>
<DD>This function must be implemented in the derived engine implementation.
 It can do any post-request complete cleanup.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="completeUiRequest(com.vodafone360.people.service.ServiceStatus, java.lang.Object)"><!-- --></A><H3>
completeUiRequest</H3>
<PRE>
protected void <B>completeUiRequest</B>(<A HREF="../../../../com/vodafone360/people/service/ServiceStatus.html" title="enum in com.vodafone360.people.service">ServiceStatus</A>&nbsp;status,
                                 java.lang.Object&nbsp;data)</PRE>
<DL>
<DD>A helper function that can be called by the derived engine implementation
 to complete the current UI request.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>status</CODE> - The result of the request<DD><CODE>data</CODE> - Response data (object type is request specific)</DL>
</DD>
</DL>
<HR>

<A NAME="setTimeout(long)"><!-- --></A><H3>
setTimeout</H3>
<PRE>
protected void <B>setTimeout</B>(long&nbsp;timeoutVal)</PRE>
<DL>
<DD>Helper function that can be called by the derived engine implementation
 to start an asynchronous timer. This will only work when: 1)
 getCurrentTimeout() is called inside the getNextRunTime() function. 2)
 The processTimeout() is called in the run() function 3) The
 onTimeoutEvent() is implemented to handle the timeout event.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>timeoutVal</CODE> - The timeout value (in milliseconds)</DL>
</DD>
</DL>
<HR>

<A NAME="clearTimeout()"><!-- --></A><H3>
clearTimeout</H3>
<PRE>
protected void <B>clearTimeout</B>()</PRE>
<DL>
<DD>Cancels the current timer (has no effect if the timer was not active).
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getCurrentTimeout()"><!-- --></A><H3>
getCurrentTimeout</H3>
<PRE>
protected long <B>getCurrentTimeout</B>()</PRE>
<DL>
<DD>The result of this function must be returned by getNextRunTime() instead
 of -1 for the timer to work.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>The required next run time (in milliseconds) or -1 if no timer is
         active</DL>
</DD>
</DL>
<HR>

<A NAME="processTimeout()"><!-- --></A><H3>
processTimeout</H3>
<PRE>
protected boolean <B>processTimeout</B>()</PRE>
<DL>
<DD>This function must be called by run() in the derived engine
 implementation for the timer to work.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>true if the timeout was processed</DL>
</DD>
</DL>
<HR>

<A NAME="deactivateEngine()"><!-- --></A><H3>
deactivateEngine</H3>
<PRE>
protected void <B>deactivateEngine</B>()</PRE>
<DL>
<DD>Called by the framework to deactivate the engine. This allows engines to
 be deactivated by modifying the Settings (so features can be disabled in
 the build).
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="isDeactivated()"><!-- --></A><H3>
isDeactivated</H3>
<PRE>
public boolean <B>isDeactivated</B>()</PRE>
<DL>
<DD>Called by the framework to determine if the engine should run.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setReqId(int)"><!-- --></A><H3>
setReqId</H3>
<PRE>
protected boolean <B>setReqId</B>(int&nbsp;reqId)</PRE>
<DL>
<DD>Called by engines when an API call is made to ensure that the response
 processed matches the request. If this function is not called the
 framework will send all responses to the engine.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="emptyUiRequestQueue()"><!-- --></A><H3>
emptyUiRequestQueue</H3>
<PRE>
protected void <B>emptyUiRequestQueue</B>()</PRE>
<DL>
<DD>Called by engines in the UI thread to cancel all UI requests. The engine
 should ensure that the active UI request is completed (if necessary)
 before calling this function.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="onReset()"><!-- --></A><H3>
onReset</H3>
<PRE>
public void <B>onReset</B>()</PRE>
<DL>
<DD>Engines can override this function to do any special handling when a reset is needed.
 Note: if overriden, the engine shall call the super implementation when the reset is done.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setReset(boolean)"><!-- --></A><H3>
setReset</H3>
<PRE>
private void <B>setReset</B>(boolean&nbsp;value)</PRE>
<DL>
<DD>Sets the reset flag.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>value</CODE> - the reset state of the engine, true if reset, false if not.</DL>
</DD>
</DL>
<HR>

<A NAME="getReset()"><!-- --></A><H3>
getReset</H3>
<PRE>
boolean <B>getReset</B>()</PRE>
<DL>
<DD>Gets the reset flag.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>true if the engine is reset, false if not</DL>
</DD>
</DL>
<HR>

<A NAME="clearReset()"><!-- --></A><H3>
clearReset</H3>
<PRE>
void <B>clearReset</B>()</PRE>
<DL>
<DD>Clears the reset flag.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>

				<img 
				src=../../../../resources/logo.png 
				width=88 height=40
				>
			</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../../../com/vodafone360/people/engine/BaseEngine.IEngineEventCallback.html" title="interface in com.vodafone360.people.engine"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?com/vodafone360/people/engine/BaseEngine.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="BaseEngine.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

				<p align=right>
				<font class=NavBarFont1 size=-2>
				JavaDoc<br>
				</font>
				</p>
			
</BODY>
</HTML>

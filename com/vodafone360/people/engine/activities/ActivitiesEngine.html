<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_20) on Wed Jun 09 00:20:37 CEST 2010 -->
<TITLE>
ActivitiesEngine (Vodafone 360 People - API Specification)
</TITLE>

<META NAME="date" CONTENT="2010-06-09">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ActivitiesEngine (Vodafone 360 People - API Specification)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>

				<img
				src=../../../../../resources/logo.png 
				width=88 height=40 border=0
				>
			</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.ISyncHelper.html" title="interface in com.vodafone360.people.engine.activities"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?com/vodafone360/people/engine/activities/ActivitiesEngine.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ActivitiesEngine.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.vodafone360.people.engine.activities</FONT>
<BR>
Class ActivitiesEngine</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../../resources/inherit.gif" ALT="extended by "><A HREF="../../../../../com/vodafone360/people/engine/BaseEngine.html" title="class in com.vodafone360.people.engine">com.vodafone360.people.engine.BaseEngine</A>
      <IMG SRC="../../../../../resources/inherit.gif" ALT="extended by "><B>com.vodafone360.people.engine.activities.ActivitiesEngine</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="../../../../../com/vodafone360/people/engine/contactsync/ContactSyncEngine.IContactSyncObserver.html" title="interface in com.vodafone360.people.engine.contactsync">ContactSyncEngine.IContactSyncObserver</A>, <A HREF="../../../../../com/vodafone360/people/engine/login/LoginEngine.ILoginEventsListener.html" title="interface in com.vodafone360.people.engine.login">LoginEngine.ILoginEventsListener</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>ActivitiesEngine</B><DT>extends <A HREF="../../../../../com/vodafone360/people/engine/BaseEngine.html" title="class in com.vodafone360.people.engine">BaseEngine</A><DT>implements <A HREF="../../../../../com/vodafone360/people/engine/contactsync/ContactSyncEngine.IContactSyncObserver.html" title="interface in com.vodafone360.people.engine.contactsync">ContactSyncEngine.IContactSyncObserver</A>, <A HREF="../../../../../com/vodafone360/people/engine/login/LoginEngine.ILoginEventsListener.html" title="interface in com.vodafone360.people.engine.login">LoginEngine.ILoginEventsListener</A></DL>
</PRE>

<P>
Engine response for handling of Activities (i.e Timeline and Status events).
 It also interfaces to the native Call and Message logs to allow these events
 to be handled within the People Client's Timeline.
<P>

<P>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->

<A NAME="nested_class_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Nested Class Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) static&nbsp;interface</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.ISyncHelper.html" title="interface in com.vodafone360.people.engine.activities">ActivitiesEngine.ISyncHelper</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Interface for Native call and message log sync classes.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.State.html" title="enum in com.vodafone360.people.engine.activities">ActivitiesEngine.State</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Definitions of Activities engines states; IDLE - engine is inactive
 FETCH_STATUSES_FIRST_TIME: 1st time sync of statuses,
 FETCH_CALLOG_FIRST_TIME: first time sync of phone calls, UPDATE_STATUSES:
 updating statuses from server (user has pressed the "refresh button" or
 push event's triggered the sync), UPDATE_CALLOG_FROM_NATIVE: new timeline
 item appeared on the phone, FETCH_OLDER_CALLLOG_FROM_NATIVE_DB: user has
 pressed "more timelines" button, FETCH_SMS_FROM_NATIVE_DB: fetching
 SMS/MMS</TD>
</TR>
</TABLE>
&nbsp;<A NAME="nested_classes_inherited_from_class_com.vodafone360.people.engine.BaseEngine"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Nested classes/interfaces inherited from class com.vodafone360.people.engine.<A HREF="../../../../../com/vodafone360/people/engine/BaseEngine.html" title="class in com.vodafone360.people.engine">BaseEngine</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../../com/vodafone360/people/engine/BaseEngine.IEngineEventCallback.html" title="interface in com.vodafone360.people.engine">BaseEngine.IEngineEventCallback</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#ACTIVITY_ITEM">ACTIVITY_ITEM</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#FETCHING_OLDER_STATUSES">FETCHING_OLDER_STATUSES</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#FETCHING_OLDER_TIMELINE">FETCHING_OLDER_TIMELINE</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#FILTER_GT">FILTER_GT</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#FILTER_LIDS">FILTER_LIDS</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Identifier for filtering against local ids (LIDs)</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#FILTER_NUM">FILTER_NUM</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;maximum number of identities fetched at the same time</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#FILTER_SORT">FILTER_SORT</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#FILTER_STATUS">FILTER_STATUS</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#FILTER_TRUE">FILTER_TRUE</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#FILTER_UPDATED">FILTER_UPDATED</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filter definitions</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#FILTER_UPDATED_REV">FILTER_UPDATED_REV</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.util.Hashtable&lt;java.lang.Integer,java.lang.String&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#mActiveRequests">mActiveRequests</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.ISyncHelper.html" title="interface in com.vodafone360.people.engine.activities">ActivitiesEngine.ISyncHelper</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#mActiveSyncHelper">mActiveSyncHelper</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;current processor (fetching timelines), is null if no action for
 timelines is taken</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;Context</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#mContext">mContext</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../../../com/vodafone360/people/database/DatabaseHelper.html" title="class in com.vodafone360.people.database">DatabaseHelper</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#mDb">mDb</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#mLastStatusUpdated">mLastStatusUpdated</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Timestamp for most recent Status event update</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.lang.Object</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#mMutex">mMutex</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mutex for thread synchronization</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#mOldestStatusUpdated">mOldestStatusUpdated</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Timestamp for oldest Status event update</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.lang.Object</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#mQueueMutex">mQueueMutex</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#mRequestActivitiesRequired">mRequestActivitiesRequired</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#MS_IN_SECOND">MS_IN_SECOND</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.State.html" title="enum in com.vodafone360.people.engine.activities">ActivitiesEngine.State</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#mState">mState</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;engine's current state</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../../../com/vodafone360/people/engine/activities/TimelineEventWatcher.html" title="class in com.vodafone360.people.engine.activities">TimelineEventWatcher</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#mTimelineEventWatcher">mTimelineEventWatcher</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Instance of TimelineEventWatcher which listens for native call and
 message logs events that ActivitiesEngine should sync.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#mTimelinesUpdated">mTimelinesUpdated</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#READ_TIMELINES_TIMEOUT_MILLS">READ_TIMELINES_TIMEOUT_MILLS</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#STATUSES_SYNC_TIMEOUT_MILLIS">STATUSES_SYNC_TIMEOUT_MILLIS</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#UPDATING_STATUSES">UPDATING_STATUSES</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;below are the constants to communicate the engine state states to UI: 3
 buttons (update statuses, load older statuses, older timelines)</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private static&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#WEEK_OLD_MILLIS">WEEK_OLD_MILLIS</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_com.vodafone360.people.engine.BaseEngine"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Fields inherited from class com.vodafone360.people.engine.<A HREF="../../../../../com/vodafone360/people/engine/BaseEngine.html" title="class in com.vodafone360.people.engine">BaseEngine</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../../com/vodafone360/people/engine/BaseEngine.html#mActiveUiRequest">mActiveUiRequest</A>, <A HREF="../../../../../com/vodafone360/people/engine/BaseEngine.html#mCurrentTimeout">mCurrentTimeout</A>, <A HREF="../../../../../com/vodafone360/people/engine/BaseEngine.html#mEngineId">mEngineId</A>, <A HREF="../../../../../com/vodafone360/people/engine/BaseEngine.html#mEventCallback">mEventCallback</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#ActivitiesEngine(Context, com.vodafone360.people.engine.BaseEngine.IEngineEventCallback, com.vodafone360.people.database.DatabaseHelper)">ActivitiesEngine</A></B>(Context&nbsp;context,
                 <A HREF="../../../../../com/vodafone360/people/engine/BaseEngine.IEngineEventCallback.html" title="interface in com.vodafone360.people.engine">BaseEngine.IEngineEventCallback</A>&nbsp;eventCallback,
                 <A HREF="../../../../../com/vodafone360/people/database/DatabaseHelper.html" title="class in com.vodafone360.people.database">DatabaseHelper</A>&nbsp;db)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Constructor</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#addGetNewPhonesCallsRequest()">addGetNewPhonesCallsRequest</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method adds a request to get latest timelines.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#addGetNewSMSRequest()">addGetNewSMSRequest</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method adds a request to get latest timelines.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#addGetOlderStatusesRequest()">addGetOlderStatusesRequest</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method adds a request to start sync of older statuses from Now+
 server.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#addOlderTimelinesRequest()">addOlderTimelinesRequest</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method adds a request to get older timelines.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#addStatusesSyncRequest()">addStatusesSyncRequest</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method adds a request to start sync of the most recent statuses from
 Now+ server.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.util.Map&lt;java.lang.String,java.util.List&lt;java.lang.String&gt;&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#applyActivitiesFilter(boolean)">applyActivitiesFilter</A></B>(boolean&nbsp;refresh)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#checkConnectivity()">checkConnectivity</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get current connectivity state from the NetworkAgent.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#cleanDatabase()">cleanDatabase</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Trigger the ActivitiesTable cleanup when the Engine is in
 "CLEANUP_DATABASE" state.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#dequeueRequest(int)">dequeueRequest</A></B>(int&nbsp;requestId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method stores removes a busy state of engine and males the change
 available to UI through the ApplicationCache.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#enqueueRequest(int, java.lang.String)">enqueueRequest</A></B>(int&nbsp;requestId,
               java.lang.String&nbsp;requestType)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method stores the current busy state of engine in ApplicationCache
 to make it available to UI.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.lang.Long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#findFirstStatusUpdateTime(java.util.ArrayList)">findFirstStatusUpdateTime</A></B>(java.util.ArrayList&lt;<A HREF="../../../../../com/vodafone360/people/datatypes/ActivityItem.html" title="class in com.vodafone360.people.datatypes">ActivityItem</A>&gt;&nbsp;activityList)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Find oldest item in list of Activities retrieved from server.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;java.lang.Long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#findLastStatusUpdateTime(java.util.ArrayList)">findLastStatusUpdateTime</A></B>(java.util.ArrayList&lt;<A HREF="../../../../../com/vodafone360/people/datatypes/ActivityItem.html" title="class in com.vodafone360.people.datatypes">ActivityItem</A>&gt;&nbsp;activityList)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#fireNewState(com.vodafone360.people.service.ServiceUiRequest)">fireNewState</A></B>(<A HREF="../../../../../com/vodafone360/people/service/ServiceUiRequest.html" title="enum in com.vodafone360.people.service">ServiceUiRequest</A>&nbsp;request)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method fires states change of an engine to UI (between "busy" and
 IDLE).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#getNextRunTime()">getNextRunTime</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return next run time for ActivitiesEngine.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#handleGetActivitiesResponse(java.util.List)">handleGetActivitiesResponse</A></B>(java.util.List&lt;<A HREF="../../../../../com/vodafone360/people/datatypes/BaseDataType.html" title="class in com.vodafone360.people.datatypes">BaseDataType</A>&gt;&nbsp;data)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Handle GetActivities response message received from Server</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#handlePushRequest(com.vodafone360.people.service.io.rpg.PushMessageTypes)">handlePushRequest</A></B>(<A HREF="../../../../../com/vodafone360/people/service/io/rpg/PushMessageTypes.html" title="enum in com.vodafone360.people.service.io.rpg">PushMessageTypes</A>&nbsp;evt)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Handle Status or Timeline Activity change Push message</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#isContactSyncReady()">isContactSyncReady</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method is necessary for the tests.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#isTimelinesUpdated()">isTimelinesUpdated</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method returns if the timelines have been updated with the previous "show more" call or push message.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#newState(com.vodafone360.people.engine.activities.ActivitiesEngine.State)">newState</A></B>(<A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.State.html" title="enum in com.vodafone360.people.engine.activities">ActivitiesEngine.State</A>&nbsp;newState)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Changes the state of the engine.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#onContactSyncStateChange(com.vodafone360.people.engine.contactsync.ContactSyncEngine.Mode, com.vodafone360.people.engine.contactsync.ContactSyncEngine.State, com.vodafone360.people.engine.contactsync.ContactSyncEngine.State)">onContactSyncStateChange</A></B>(<A HREF="../../../../../com/vodafone360/people/engine/contactsync/ContactSyncEngine.Mode.html" title="enum in com.vodafone360.people.engine.contactsync">ContactSyncEngine.Mode</A>&nbsp;mode,
                         <A HREF="../../../../../com/vodafone360/people/engine/contactsync/ContactSyncEngine.State.html" title="enum in com.vodafone360.people.engine.contactsync">ContactSyncEngine.State</A>&nbsp;oldState,
                         <A HREF="../../../../../com/vodafone360/people/engine/contactsync/ContactSyncEngine.State.html" title="enum in com.vodafone360.people.engine.contactsync">ContactSyncEngine.State</A>&nbsp;newState)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Called when the contact sync engine changes state or mode</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#onCreate()">onCreate</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;onCreate.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#onDestroy()">onDestroy</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;On destruction of ActivitiesEngine stop the timeline event watcher.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#onLoginStateChanged(boolean)">onLoginStateChanged</A></B>(boolean&nbsp;loggedIn)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#onProgressEvent(com.vodafone360.people.engine.contactsync.ContactSyncEngine.State, int)">onProgressEvent</A></B>(<A HREF="../../../../../com/vodafone360/people/engine/contactsync/ContactSyncEngine.State.html" title="enum in com.vodafone360.people.engine.contactsync">ContactSyncEngine.State</A>&nbsp;currentState,
                int&nbsp;percent)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Called to update interested parties on contact sync progress.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#onRequestComplete()">onRequestComplete</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This function must be implemented in the derived engine implementation.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#onSyncComplete(com.vodafone360.people.service.ServiceStatus)">onSyncComplete</A></B>(<A HREF="../../../../../com/vodafone360/people/service/ServiceStatus.html" title="enum in com.vodafone360.people.service">ServiceStatus</A>&nbsp;status)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Receive notification from ContactSyncEngine that a Contact sync has
 completed.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#onSyncHelperComplete(com.vodafone360.people.service.ServiceStatus)">onSyncHelperComplete</A></B>(<A HREF="../../../../../com/vodafone360/people/service/ServiceStatus.html" title="enum in com.vodafone360.people.service">ServiceStatus</A>&nbsp;status)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Function called when helper classes ends their work.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#onTimeoutEvent()">onTimeoutEvent</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Drive state machine for Activities sync.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#processCommsResponse(com.vodafone360.people.service.io.ResponseQueue.Response)">processCommsResponse</A></B>(<A HREF="../../../../../com/vodafone360/people/service/io/ResponseQueue.Response.html" title="class in com.vodafone360.people.service.io">ResponseQueue.Response</A>&nbsp;resp)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Handle response received from transport layer (via EngineManager)</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#processUiRequest(com.vodafone360.people.service.ServiceUiRequest, java.lang.Object)">processUiRequest</A></B>(<A HREF="../../../../../com/vodafone360/people/service/ServiceUiRequest.html" title="enum in com.vodafone360.people.service">ServiceUiRequest</A>&nbsp;requestId,
                 java.lang.Object&nbsp;data)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Handle an outstanding UI request.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#removeDuplicates(java.util.ArrayList)">removeDuplicates</A></B>(java.util.ArrayList&lt;<A HREF="../../../../../com/vodafone360/people/datatypes/ActivityItem.html" title="class in com.vodafone360.people.datatypes">ActivityItem</A>&gt;&nbsp;activityList)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TODO: investigate why duplicates here can appear. this method might be
 not necessary.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#requestStatusesFromServer(boolean)">requestStatusesFromServer</A></B>(boolean&nbsp;refresh)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Request Activities (Status/Timeline) events from Server.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#run()">run</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ActivitiesEngine run implementation Processes a response if one is
 available, Processes any events in engine's UI queue.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#setTimelinesUpdated(boolean)">setTimelinesUpdated</A></B>(boolean&nbsp;timelinesUpdated)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method sets the state - if the timelines have been updated or not.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#startCallLogSync(boolean)">startCallLogSync</A></B>(boolean&nbsp;refresh)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Start sync of call log from native call log data base</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;<A HREF="../../../../../com/vodafone360/people/service/ServiceStatus.html" title="enum in com.vodafone360.people.service">ServiceStatus</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#updateDatabase(java.util.ArrayList)">updateDatabase</A></B>(java.util.ArrayList&lt;<A HREF="../../../../../com/vodafone360/people/datatypes/ActivityItem.html" title="class in com.vodafone360.people.datatypes">ActivityItem</A>&gt;&nbsp;activityList)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#updateLatestStatusUpdateTime()">updateLatestStatusUpdateTime</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.html#updateOldestStatusUpdateTime()">updateOldestStatusUpdateTime</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_com.vodafone360.people.engine.BaseEngine"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class com.vodafone360.people.engine.<A HREF="../../../../../com/vodafone360/people/engine/BaseEngine.html" title="class in com.vodafone360.people.engine">BaseEngine</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../../com/vodafone360/people/engine/BaseEngine.html#addUiRequestToQueue(com.vodafone360.people.service.ServiceUiRequest, java.lang.Object)">addUiRequestToQueue</A>, <A HREF="../../../../../com/vodafone360/people/engine/BaseEngine.html#clearTimeout()">clearTimeout</A>, <A HREF="../../../../../com/vodafone360/people/engine/BaseEngine.html#completeUiRequest(com.vodafone360.people.service.ServiceStatus)">completeUiRequest</A>, <A HREF="../../../../../com/vodafone360/people/engine/BaseEngine.html#completeUiRequest(com.vodafone360.people.service.ServiceStatus, java.lang.Object)">completeUiRequest</A>, <A HREF="../../../../../com/vodafone360/people/engine/BaseEngine.html#deactivateEngine()">deactivateEngine</A>, <A HREF="../../../../../com/vodafone360/people/engine/BaseEngine.html#emptyUiRequestQueue()">emptyUiRequestQueue</A>, <A HREF="../../../../../com/vodafone360/people/engine/BaseEngine.html#engineId()">engineId</A>, <A HREF="../../../../../com/vodafone360/people/engine/BaseEngine.html#genericHandleResponseType(java.lang.String, java.util.List)">genericHandleResponseType</A>, <A HREF="../../../../../com/vodafone360/people/engine/BaseEngine.html#getCurrentTimeout()">getCurrentTimeout</A>, <A HREF="../../../../../com/vodafone360/people/engine/BaseEngine.html#isCommsResponseOutstanding()">isCommsResponseOutstanding</A>, <A HREF="../../../../../com/vodafone360/people/engine/BaseEngine.html#isDeactivated()">isDeactivated</A>, <A HREF="../../../../../com/vodafone360/people/engine/BaseEngine.html#isUiRequestOutstanding()">isUiRequestOutstanding</A>, <A HREF="../../../../../com/vodafone360/people/engine/BaseEngine.html#onCommsInMessage()">onCommsInMessage</A>, <A HREF="../../../../../com/vodafone360/people/engine/BaseEngine.html#onReset()">onReset</A>, <A HREF="../../../../../com/vodafone360/people/engine/BaseEngine.html#processCommsInQueue()">processCommsInQueue</A>, <A HREF="../../../../../com/vodafone360/people/engine/BaseEngine.html#processTimeout()">processTimeout</A>, <A HREF="../../../../../com/vodafone360/people/engine/BaseEngine.html#processUiQueue()">processUiQueue</A>, <A HREF="../../../../../com/vodafone360/people/engine/BaseEngine.html#setReqId(int)">setReqId</A>, <A HREF="../../../../../com/vodafone360/people/engine/BaseEngine.html#setTimeout(long)">setTimeout</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="UPDATING_STATUSES"><!-- --></A><H3>
UPDATING_STATUSES</H3>
<PRE>
public static final java.lang.String <B>UPDATING_STATUSES</B></PRE>
<DL>
<DD>below are the constants to communicate the engine state states to UI: 3
 buttons (update statuses, load older statuses, older timelines)
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../constant-values.html#com.vodafone360.people.engine.activities.ActivitiesEngine.UPDATING_STATUSES">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="FETCHING_OLDER_STATUSES"><!-- --></A><H3>
FETCHING_OLDER_STATUSES</H3>
<PRE>
public static final java.lang.String <B>FETCHING_OLDER_STATUSES</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../constant-values.html#com.vodafone360.people.engine.activities.ActivitiesEngine.FETCHING_OLDER_STATUSES">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="FETCHING_OLDER_TIMELINE"><!-- --></A><H3>
FETCHING_OLDER_TIMELINE</H3>
<PRE>
public static final java.lang.String <B>FETCHING_OLDER_TIMELINE</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../constant-values.html#com.vodafone360.people.engine.activities.ActivitiesEngine.FETCHING_OLDER_TIMELINE">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="FILTER_UPDATED"><!-- --></A><H3>
FILTER_UPDATED</H3>
<PRE>
private static final java.lang.String <B>FILTER_UPDATED</B></PRE>
<DL>
<DD>filter definitions
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../constant-values.html#com.vodafone360.people.engine.activities.ActivitiesEngine.FILTER_UPDATED">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="FILTER_GT"><!-- --></A><H3>
FILTER_GT</H3>
<PRE>
private static final java.lang.String <B>FILTER_GT</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../constant-values.html#com.vodafone360.people.engine.activities.ActivitiesEngine.FILTER_GT">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="FILTER_LIDS"><!-- --></A><H3>
FILTER_LIDS</H3>
<PRE>
private static final java.lang.String <B>FILTER_LIDS</B></PRE>
<DL>
<DD>Identifier for filtering against local ids (LIDs)
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../constant-values.html#com.vodafone360.people.engine.activities.ActivitiesEngine.FILTER_LIDS">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="FILTER_NUM"><!-- --></A><H3>
FILTER_NUM</H3>
<PRE>
private static final java.lang.String <B>FILTER_NUM</B></PRE>
<DL>
<DD>maximum number of identities fetched at the same time
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../constant-values.html#com.vodafone360.people.engine.activities.ActivitiesEngine.FILTER_NUM">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="FILTER_SORT"><!-- --></A><H3>
FILTER_SORT</H3>
<PRE>
private static final java.lang.String <B>FILTER_SORT</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../constant-values.html#com.vodafone360.people.engine.activities.ActivitiesEngine.FILTER_SORT">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="FILTER_UPDATED_REV"><!-- --></A><H3>
FILTER_UPDATED_REV</H3>
<PRE>
private static final java.lang.String <B>FILTER_UPDATED_REV</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../constant-values.html#com.vodafone360.people.engine.activities.ActivitiesEngine.FILTER_UPDATED_REV">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="FILTER_STATUS"><!-- --></A><H3>
FILTER_STATUS</H3>
<PRE>
private static final java.lang.String <B>FILTER_STATUS</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../constant-values.html#com.vodafone360.people.engine.activities.ActivitiesEngine.FILTER_STATUS">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="FILTER_TRUE"><!-- --></A><H3>
FILTER_TRUE</H3>
<PRE>
private static final java.lang.String <B>FILTER_TRUE</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../constant-values.html#com.vodafone360.people.engine.activities.ActivitiesEngine.FILTER_TRUE">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="MS_IN_SECOND"><!-- --></A><H3>
MS_IN_SECOND</H3>
<PRE>
private static final long <B>MS_IN_SECOND</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../constant-values.html#com.vodafone360.people.engine.activities.ActivitiesEngine.MS_IN_SECOND">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="STATUSES_SYNC_TIMEOUT_MILLIS"><!-- --></A><H3>
STATUSES_SYNC_TIMEOUT_MILLIS</H3>
<PRE>
private static final long <B>STATUSES_SYNC_TIMEOUT_MILLIS</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../constant-values.html#com.vodafone360.people.engine.activities.ActivitiesEngine.STATUSES_SYNC_TIMEOUT_MILLIS">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="READ_TIMELINES_TIMEOUT_MILLS"><!-- --></A><H3>
READ_TIMELINES_TIMEOUT_MILLS</H3>
<PRE>
private static final long <B>READ_TIMELINES_TIMEOUT_MILLS</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../constant-values.html#com.vodafone360.people.engine.activities.ActivitiesEngine.READ_TIMELINES_TIMEOUT_MILLS">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="WEEK_OLD_MILLIS"><!-- --></A><H3>
WEEK_OLD_MILLIS</H3>
<PRE>
private static final long <B>WEEK_OLD_MILLIS</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../constant-values.html#com.vodafone360.people.engine.activities.ActivitiesEngine.WEEK_OLD_MILLIS">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="ACTIVITY_ITEM"><!-- --></A><H3>
ACTIVITY_ITEM</H3>
<PRE>
private static final java.lang.String <B>ACTIVITY_ITEM</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../constant-values.html#com.vodafone360.people.engine.activities.ActivitiesEngine.ACTIVITY_ITEM">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="mLastStatusUpdated"><!-- --></A><H3>
mLastStatusUpdated</H3>
<PRE>
private long <B>mLastStatusUpdated</B></PRE>
<DL>
<DD>Timestamp for most recent Status event update
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="mOldestStatusUpdated"><!-- --></A><H3>
mOldestStatusUpdated</H3>
<PRE>
private long <B>mOldestStatusUpdated</B></PRE>
<DL>
<DD>Timestamp for oldest Status event update
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="mContext"><!-- --></A><H3>
mContext</H3>
<PRE>
private Context <B>mContext</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="mState"><!-- --></A><H3>
mState</H3>
<PRE>
private <A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.State.html" title="enum in com.vodafone360.people.engine.activities">ActivitiesEngine.State</A> <B>mState</B></PRE>
<DL>
<DD>engine's current state
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="mRequestActivitiesRequired"><!-- --></A><H3>
mRequestActivitiesRequired</H3>
<PRE>
private boolean <B>mRequestActivitiesRequired</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="mActiveRequests"><!-- --></A><H3>
mActiveRequests</H3>
<PRE>
private final java.util.Hashtable&lt;java.lang.Integer,java.lang.String&gt; <B>mActiveRequests</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="mTimelineEventWatcher"><!-- --></A><H3>
mTimelineEventWatcher</H3>
<PRE>
private <A HREF="../../../../../com/vodafone360/people/engine/activities/TimelineEventWatcher.html" title="class in com.vodafone360.people.engine.activities">TimelineEventWatcher</A> <B>mTimelineEventWatcher</B></PRE>
<DL>
<DD>Instance of TimelineEventWatcher which listens for native call and
 message logs events that ActivitiesEngine should sync.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="mDb"><!-- --></A><H3>
mDb</H3>
<PRE>
private <A HREF="../../../../../com/vodafone360/people/database/DatabaseHelper.html" title="class in com.vodafone360.people.database">DatabaseHelper</A> <B>mDb</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="mQueueMutex"><!-- --></A><H3>
mQueueMutex</H3>
<PRE>
private final java.lang.Object <B>mQueueMutex</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="mTimelinesUpdated"><!-- --></A><H3>
mTimelinesUpdated</H3>
<PRE>
private boolean <B>mTimelinesUpdated</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="mActiveSyncHelper"><!-- --></A><H3>
mActiveSyncHelper</H3>
<PRE>
private <A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.ISyncHelper.html" title="interface in com.vodafone360.people.engine.activities">ActivitiesEngine.ISyncHelper</A> <B>mActiveSyncHelper</B></PRE>
<DL>
<DD>current processor (fetching timelines), is null if no action for
 timelines is taken
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="mMutex"><!-- --></A><H3>
mMutex</H3>
<PRE>
private final java.lang.Object <B>mMutex</B></PRE>
<DL>
<DD>mutex for thread synchronization
<P>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="ActivitiesEngine(Context, com.vodafone360.people.engine.BaseEngine.IEngineEventCallback, com.vodafone360.people.database.DatabaseHelper)"><!-- --></A><H3>
ActivitiesEngine</H3>
<PRE>
public <B>ActivitiesEngine</B>(Context&nbsp;context,
                        <A HREF="../../../../../com/vodafone360/people/engine/BaseEngine.IEngineEventCallback.html" title="interface in com.vodafone360.people.engine">BaseEngine.IEngineEventCallback</A>&nbsp;eventCallback,
                        <A HREF="../../../../../com/vodafone360/people/database/DatabaseHelper.html" title="class in com.vodafone360.people.database">DatabaseHelper</A>&nbsp;db)</PRE>
<DL>
<DD>Constructor
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>context</CODE> - - valid context<DD><CODE>eventCallback</CODE> - - callback object<DD><CODE>db</CODE> - - DatabaseHepler object</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="getNextRunTime()"><!-- --></A><H3>
getNextRunTime</H3>
<PRE>
public long <B>getNextRunTime</B>()</PRE>
<DL>
<DD>Return next run time for ActivitiesEngine. Determined by whether we have
 a request we wish to issue, or there is a response that needs processing.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../com/vodafone360/people/engine/BaseEngine.html#getNextRunTime()">getNextRunTime</A></CODE> in class <CODE><A HREF="../../../../../com/vodafone360/people/engine/BaseEngine.html" title="class in com.vodafone360.people.engine">BaseEngine</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>-1 never needs to run, 0 needs to run as soon as possible,
         CurrentTime + 60000 to run in 1 minute, etc.</DL>
</DD>
</DL>
<HR>

<A NAME="onCreate()"><!-- --></A><H3>
onCreate</H3>
<PRE>
public void <B>onCreate</B>()</PRE>
<DL>
<DD>onCreate. Instruct the timeline event watcher to start watching for
 native events the Activities engine may need to handle (call and message
 events).
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../com/vodafone360/people/engine/BaseEngine.html#onCreate()">onCreate</A></CODE> in class <CODE><A HREF="../../../../../com/vodafone360/people/engine/BaseEngine.html" title="class in com.vodafone360.people.engine">BaseEngine</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="onDestroy()"><!-- --></A><H3>
onDestroy</H3>
<PRE>
public void <B>onDestroy</B>()</PRE>
<DL>
<DD>On destruction of ActivitiesEngine stop the timeline event watcher.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../com/vodafone360/people/engine/BaseEngine.html#onDestroy()">onDestroy</A></CODE> in class <CODE><A HREF="../../../../../com/vodafone360/people/engine/BaseEngine.html" title="class in com.vodafone360.people.engine">BaseEngine</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="onRequestComplete()"><!-- --></A><H3>
onRequestComplete</H3>
<PRE>
protected void <B>onRequestComplete</B>()</PRE>
<DL>
<DD>This function must be implemented in the derived engine implementation.
 It can do any post-request complete cleanup.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../com/vodafone360/people/engine/BaseEngine.html#onRequestComplete()">onRequestComplete</A></CODE> in class <CODE><A HREF="../../../../../com/vodafone360/people/engine/BaseEngine.html" title="class in com.vodafone360.people.engine">BaseEngine</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="onTimeoutEvent()"><!-- --></A><H3>
onTimeoutEvent</H3>
<PRE>
protected void <B>onTimeoutEvent</B>()</PRE>
<DL>
<DD>Drive state machine for Activities sync. If we are currently fetching
 native events run the appropriated ISyncHelper. Otherwise request
 retrieval of Activities from Server.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../com/vodafone360/people/engine/BaseEngine.html#onTimeoutEvent()">onTimeoutEvent</A></CODE> in class <CODE><A HREF="../../../../../com/vodafone360/people/engine/BaseEngine.html" title="class in com.vodafone360.people.engine">BaseEngine</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="processCommsResponse(com.vodafone360.people.service.io.ResponseQueue.Response)"><!-- --></A><H3>
processCommsResponse</H3>
<PRE>
protected void <B>processCommsResponse</B>(<A HREF="../../../../../com/vodafone360/people/service/io/ResponseQueue.Response.html" title="class in com.vodafone360.people.service.io">ResponseQueue.Response</A>&nbsp;resp)</PRE>
<DL>
<DD>Handle response received from transport layer (via EngineManager)
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../com/vodafone360/people/engine/BaseEngine.html#processCommsResponse(com.vodafone360.people.service.io.ResponseQueue.Response)">processCommsResponse</A></CODE> in class <CODE><A HREF="../../../../../com/vodafone360/people/engine/BaseEngine.html" title="class in com.vodafone360.people.engine">BaseEngine</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>resp</CODE> - Received Response item either a Status/Timeline related push
            message or a response to a get activities request.</DL>
</DD>
</DL>
<HR>

<A NAME="processUiRequest(com.vodafone360.people.service.ServiceUiRequest, java.lang.Object)"><!-- --></A><H3>
processUiRequest</H3>
<PRE>
protected void <B>processUiRequest</B>(<A HREF="../../../../../com/vodafone360/people/service/ServiceUiRequest.html" title="enum in com.vodafone360.people.service">ServiceUiRequest</A>&nbsp;requestId,
                                java.lang.Object&nbsp;data)</PRE>
<DL>
<DD>Handle an outstanding UI request.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../com/vodafone360/people/engine/BaseEngine.html#processUiRequest(com.vodafone360.people.service.ServiceUiRequest, java.lang.Object)">processUiRequest</A></CODE> in class <CODE><A HREF="../../../../../com/vodafone360/people/engine/BaseEngine.html" title="class in com.vodafone360.people.engine">BaseEngine</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>requestId</CODE> - The UI request ID<DD><CODE>data</CODE> - Request data (object type is request specific)</DL>
</DD>
</DL>
<HR>

<A NAME="run()"><!-- --></A><H3>
run</H3>
<PRE>
public void <B>run</B>()</PRE>
<DL>
<DD>ActivitiesEngine run implementation Processes a response if one is
 available, Processes any events in engine's UI queue. Issues
 get-activities request to server as part of sync.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../com/vodafone360/people/engine/BaseEngine.html#run()">run</A></CODE> in class <CODE><A HREF="../../../../../com/vodafone360/people/engine/BaseEngine.html" title="class in com.vodafone360.people.engine">BaseEngine</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="startCallLogSync(boolean)"><!-- --></A><H3>
startCallLogSync</H3>
<PRE>
private void <B>startCallLogSync</B>(boolean&nbsp;refresh)</PRE>
<DL>
<DD>Start sync of call log from native call log data base
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="isContactSyncReady()"><!-- --></A><H3>
isContactSyncReady</H3>
<PRE>
private boolean <B>isContactSyncReady</B>()</PRE>
<DL>
<DD>This method is necessary for the tests. It catches the
 InvalidParameterException coming from EngineManager.getInstance(), when
 the instance is null
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>boolean - TRUE if ContactSyncEngine is not null</DL>
</DD>
</DL>
<HR>

<A NAME="requestStatusesFromServer(boolean)"><!-- --></A><H3>
requestStatusesFromServer</H3>
<PRE>
private void <B>requestStatusesFromServer</B>(boolean&nbsp;refresh)</PRE>
<DL>
<DD>Request Activities (Status/Timeline) events from Server.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>refresh</CODE> - boolean - is true when fetching latest statuses, false -
            when older</DL>
</DD>
</DL>
<HR>

<A NAME="applyActivitiesFilter(boolean)"><!-- --></A><H3>
applyActivitiesFilter</H3>
<PRE>
private java.util.Map&lt;java.lang.String,java.util.List&lt;java.lang.String&gt;&gt; <B>applyActivitiesFilter</B>(boolean&nbsp;refresh)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="cleanDatabase()"><!-- --></A><H3>
cleanDatabase</H3>
<PRE>
private void <B>cleanDatabase</B>()</PRE>
<DL>
<DD>Trigger the ActivitiesTable cleanup when the Engine is in
 "CLEANUP_DATABASE" state.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="handlePushRequest(com.vodafone360.people.service.io.rpg.PushMessageTypes)"><!-- --></A><H3>
handlePushRequest</H3>
<PRE>
private void <B>handlePushRequest</B>(<A HREF="../../../../../com/vodafone360/people/service/io/rpg/PushMessageTypes.html" title="enum in com.vodafone360.people.service.io.rpg">PushMessageTypes</A>&nbsp;evt)</PRE>
<DL>
<DD>Handle Status or Timeline Activity change Push message
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>evt</CODE> - Push message type (Status change or Timeline change).</DL>
</DD>
</DL>
<HR>

<A NAME="handleGetActivitiesResponse(java.util.List)"><!-- --></A><H3>
handleGetActivitiesResponse</H3>
<PRE>
private void <B>handleGetActivitiesResponse</B>(java.util.List&lt;<A HREF="../../../../../com/vodafone360/people/datatypes/BaseDataType.html" title="class in com.vodafone360.people.datatypes">BaseDataType</A>&gt;&nbsp;data)</PRE>
<DL>
<DD>Handle GetActivities response message received from Server
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>reqId</CODE> - Request ID contained in response. This should match an ID of
            a request we have issued to the Server.<DD><CODE>data</CODE> - List array of ActivityItem items returned from Server.</DL>
</DD>
</DL>
<HR>

<A NAME="updateDatabase(java.util.ArrayList)"><!-- --></A><H3>
updateDatabase</H3>
<PRE>
private <A HREF="../../../../../com/vodafone360/people/service/ServiceStatus.html" title="enum in com.vodafone360.people.service">ServiceStatus</A> <B>updateDatabase</B>(java.util.ArrayList&lt;<A HREF="../../../../../com/vodafone360/people/datatypes/ActivityItem.html" title="class in com.vodafone360.people.datatypes">ActivityItem</A>&gt;&nbsp;activityList)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="updateLatestStatusUpdateTime()"><!-- --></A><H3>
updateLatestStatusUpdateTime</H3>
<PRE>
private void <B>updateLatestStatusUpdateTime</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="updateOldestStatusUpdateTime()"><!-- --></A><H3>
updateOldestStatusUpdateTime</H3>
<PRE>
private void <B>updateOldestStatusUpdateTime</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="findLastStatusUpdateTime(java.util.ArrayList)"><!-- --></A><H3>
findLastStatusUpdateTime</H3>
<PRE>
private java.lang.Long <B>findLastStatusUpdateTime</B>(java.util.ArrayList&lt;<A HREF="../../../../../com/vodafone360/people/datatypes/ActivityItem.html" title="class in com.vodafone360.people.datatypes">ActivityItem</A>&gt;&nbsp;activityList)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="findFirstStatusUpdateTime(java.util.ArrayList)"><!-- --></A><H3>
findFirstStatusUpdateTime</H3>
<PRE>
private java.lang.Long <B>findFirstStatusUpdateTime</B>(java.util.ArrayList&lt;<A HREF="../../../../../com/vodafone360/people/datatypes/ActivityItem.html" title="class in com.vodafone360.people.datatypes">ActivityItem</A>&gt;&nbsp;activityList)</PRE>
<DL>
<DD>Find oldest item in list of Activities retrieved from server.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>Time-stamp of oldest event.</DL>
</DD>
</DL>
<HR>

<A NAME="removeDuplicates(java.util.ArrayList)"><!-- --></A><H3>
removeDuplicates</H3>
<PRE>
private void <B>removeDuplicates</B>(java.util.ArrayList&lt;<A HREF="../../../../../com/vodafone360/people/datatypes/ActivityItem.html" title="class in com.vodafone360.people.datatypes">ActivityItem</A>&gt;&nbsp;activityList)</PRE>
<DL>
<DD>TODO: investigate why duplicates here can appear. this method might be
 not necessary. Remove Activities from list of Activities with Activity
 IDS matching ones we have already retrieved (i.e .duplicates).
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="onContactSyncStateChange(com.vodafone360.people.engine.contactsync.ContactSyncEngine.Mode, com.vodafone360.people.engine.contactsync.ContactSyncEngine.State, com.vodafone360.people.engine.contactsync.ContactSyncEngine.State)"><!-- --></A><H3>
onContactSyncStateChange</H3>
<PRE>
public void <B>onContactSyncStateChange</B>(<A HREF="../../../../../com/vodafone360/people/engine/contactsync/ContactSyncEngine.Mode.html" title="enum in com.vodafone360.people.engine.contactsync">ContactSyncEngine.Mode</A>&nbsp;mode,
                                     <A HREF="../../../../../com/vodafone360/people/engine/contactsync/ContactSyncEngine.State.html" title="enum in com.vodafone360.people.engine.contactsync">ContactSyncEngine.State</A>&nbsp;oldState,
                                     <A HREF="../../../../../com/vodafone360/people/engine/contactsync/ContactSyncEngine.State.html" title="enum in com.vodafone360.people.engine.contactsync">ContactSyncEngine.State</A>&nbsp;newState)</PRE>
<DL>
<DD>Called when the contact sync engine changes state or mode
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../com/vodafone360/people/engine/contactsync/ContactSyncEngine.IContactSyncObserver.html#onContactSyncStateChange(com.vodafone360.people.engine.contactsync.ContactSyncEngine.Mode, com.vodafone360.people.engine.contactsync.ContactSyncEngine.State, com.vodafone360.people.engine.contactsync.ContactSyncEngine.State)">onContactSyncStateChange</A></CODE> in interface <CODE><A HREF="../../../../../com/vodafone360/people/engine/contactsync/ContactSyncEngine.IContactSyncObserver.html" title="interface in com.vodafone360.people.engine.contactsync">ContactSyncEngine.IContactSyncObserver</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>mode</CODE> - Current mode<DD><CODE>oldState</CODE> - Previous state<DD><CODE>newState</CODE> - New state</DL>
</DD>
</DL>
<HR>

<A NAME="onSyncComplete(com.vodafone360.people.service.ServiceStatus)"><!-- --></A><H3>
onSyncComplete</H3>
<PRE>
public void <B>onSyncComplete</B>(<A HREF="../../../../../com/vodafone360/people/service/ServiceStatus.html" title="enum in com.vodafone360.people.service">ServiceStatus</A>&nbsp;status)</PRE>
<DL>
<DD>Receive notification from ContactSyncEngine that a Contact sync has
 completed. Start Activity sync if we have not previously synced.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../com/vodafone360/people/engine/contactsync/ContactSyncEngine.IContactSyncObserver.html#onSyncComplete(com.vodafone360.people.service.ServiceStatus)">onSyncComplete</A></CODE> in interface <CODE><A HREF="../../../../../com/vodafone360/people/engine/contactsync/ContactSyncEngine.IContactSyncObserver.html" title="interface in com.vodafone360.people.engine.contactsync">ContactSyncEngine.IContactSyncObserver</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>status</CODE> - SUCCESS if the sync was successful, a suitable error
            code otherwise.</DL>
</DD>
</DL>
<HR>

<A NAME="onProgressEvent(com.vodafone360.people.engine.contactsync.ContactSyncEngine.State, int)"><!-- --></A><H3>
onProgressEvent</H3>
<PRE>
public void <B>onProgressEvent</B>(<A HREF="../../../../../com/vodafone360/people/engine/contactsync/ContactSyncEngine.State.html" title="enum in com.vodafone360.people.engine.contactsync">ContactSyncEngine.State</A>&nbsp;currentState,
                            int&nbsp;percent)</PRE>
<DL>
<DD>Called to update interested parties on contact sync progress. This is
 made up of two parts the state and the percentage. Each time the
 state changes the percentage value will go back to 0.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../com/vodafone360/people/engine/contactsync/ContactSyncEngine.IContactSyncObserver.html#onProgressEvent(com.vodafone360.people.engine.contactsync.ContactSyncEngine.State, int)">onProgressEvent</A></CODE> in interface <CODE><A HREF="../../../../../com/vodafone360/people/engine/contactsync/ContactSyncEngine.IContactSyncObserver.html" title="interface in com.vodafone360.people.engine.contactsync">ContactSyncEngine.IContactSyncObserver</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>currentState</CODE> - What the contact sync engine is currently doing<DD><CODE>percent</CODE> - Percentage complete for the current task</DL>
</DD>
</DL>
<HR>

<A NAME="checkConnectivity()"><!-- --></A><H3>
checkConnectivity</H3>
<PRE>
private boolean <B>checkConnectivity</B>()</PRE>
<DL>
<DD>Get current connectivity state from the NetworkAgent. If not connected
 completed UI request with COMMs error.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>true NetworkAgent reports we are connected, false otherwise.</DL>
</DD>
</DL>
<HR>

<A NAME="onSyncHelperComplete(com.vodafone360.people.service.ServiceStatus)"><!-- --></A><H3>
onSyncHelperComplete</H3>
<PRE>
protected void <B>onSyncHelperComplete</B>(<A HREF="../../../../../com/vodafone360/people/service/ServiceStatus.html" title="enum in com.vodafone360.people.service">ServiceStatus</A>&nbsp;status)</PRE>
<DL>
<DD>Function called when helper classes ends their work. Currently supported
 helpers are FetchCallLogEvents and FetchSmsLogEvents
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>status</CODE> - - ServiceStatus of completed operation.</DL>
</DD>
</DL>
<HR>

<A NAME="addGetNewPhonesCallsRequest()"><!-- --></A><H3>
addGetNewPhonesCallsRequest</H3>
<PRE>
protected void <B>addGetNewPhonesCallsRequest</B>()</PRE>
<DL>
<DD>This method adds a request to get latest timelines.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="addGetNewSMSRequest()"><!-- --></A><H3>
addGetNewSMSRequest</H3>
<PRE>
protected void <B>addGetNewSMSRequest</B>()</PRE>
<DL>
<DD>This method adds a request to get latest timelines.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="addOlderTimelinesRequest()"><!-- --></A><H3>
addOlderTimelinesRequest</H3>
<PRE>
public void <B>addOlderTimelinesRequest</B>()</PRE>
<DL>
<DD>This method adds a request to get older timelines.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="addStatusesSyncRequest()"><!-- --></A><H3>
addStatusesSyncRequest</H3>
<PRE>
public void <B>addStatusesSyncRequest</B>()</PRE>
<DL>
<DD>This method adds a request to start sync of the most recent statuses from
 Now+ server.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="addGetOlderStatusesRequest()"><!-- --></A><H3>
addGetOlderStatusesRequest</H3>
<PRE>
public void <B>addGetOlderStatusesRequest</B>()</PRE>
<DL>
<DD>This method adds a request to start sync of older statuses from Now+
 server.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="newState(com.vodafone360.people.engine.activities.ActivitiesEngine.State)"><!-- --></A><H3>
newState</H3>
<PRE>
private void <B>newState</B>(<A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.State.html" title="enum in com.vodafone360.people.engine.activities">ActivitiesEngine.State</A>&nbsp;newState)</PRE>
<DL>
<DD>Changes the state of the engine.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>newState</CODE> - The new state</DL>
</DD>
</DL>
<HR>

<A NAME="fireNewState(com.vodafone360.people.service.ServiceUiRequest)"><!-- --></A><H3>
fireNewState</H3>
<PRE>
private void <B>fireNewState</B>(<A HREF="../../../../../com/vodafone360/people/service/ServiceUiRequest.html" title="enum in com.vodafone360.people.service">ServiceUiRequest</A>&nbsp;request)</PRE>
<DL>
<DD>This method fires states change of an engine to UI (between "busy" and
 IDLE). This method is normally called after the new state has been
 changed and published to ApplicationCache. The UI should refer to
 ApplicationCache when processing this new ServiceRequest
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>request</CODE> - ServiceUIRequest UPDATING_UI or UPDATING_UI_FINISHED</DL>
</DD>
</DL>
<HR>

<A NAME="enqueueRequest(int, java.lang.String)"><!-- --></A><H3>
enqueueRequest</H3>
<PRE>
private void <B>enqueueRequest</B>(int&nbsp;requestId,
                            java.lang.String&nbsp;requestType)</PRE>
<DL>
<DD>This method stores the current busy state of engine in ApplicationCache
 to make it available to UI. This method is normally called before setting
 new state of the engine.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>requestId</CODE> - int - the request Id for network communications, or the
            ServiceUIRequest ordinal for fetching/updating timelines<DD><CODE>requestType</CODE> - one of UPDATING_STATUSES, FETCHING_OLDER_STATUSES,
            FETCHING_OLDER_TIMELINE</DL>
</DD>
</DL>
<HR>

<A NAME="dequeueRequest(int)"><!-- --></A><H3>
dequeueRequest</H3>
<PRE>
private void <B>dequeueRequest</B>(int&nbsp;requestId)</PRE>
<DL>
<DD>This method stores removes a busy state of engine and males the change
 available to UI through the ApplicationCache. This method is normally
 called before setting new state of the engine.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>requestId</CODE> - int - the request Id for network communications, or the
            ServiceUIRequest ordinal for fetching/updating timelines<DD><CODE>requestType</CODE> - one of UPDATING_STATUSES, FETCHING_OLDER_STATUSES,
            FETCHING_OLDER_TIMELINE</DL>
</DD>
</DL>
<HR>

<A NAME="onLoginStateChanged(boolean)"><!-- --></A><H3>
onLoginStateChanged</H3>
<PRE>
public void <B>onLoginStateChanged</B>(boolean&nbsp;loggedIn)</PRE>
<DL>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../com/vodafone360/people/engine/login/LoginEngine.ILoginEventsListener.html#onLoginStateChanged(boolean)">onLoginStateChanged</A></CODE> in interface <CODE><A HREF="../../../../../com/vodafone360/people/engine/login/LoginEngine.ILoginEventsListener.html" title="interface in com.vodafone360.people.engine.login">LoginEngine.ILoginEventsListener</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="isTimelinesUpdated()"><!-- --></A><H3>
isTimelinesUpdated</H3>
<PRE>
public boolean <B>isTimelinesUpdated</B>()</PRE>
<DL>
<DD>This method returns if the timelines have been updated with the previous "show more" call or push message.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>boolean TRUE if they timelines have been updated with the previous "show more" call or push message.</DL>
</DD>
</DL>
<HR>

<A NAME="setTimelinesUpdated(boolean)"><!-- --></A><H3>
setTimelinesUpdated</H3>
<PRE>
public void <B>setTimelinesUpdated</B>(boolean&nbsp;timelinesUpdated)</PRE>
<DL>
<DD>This method sets the state - if the timelines have been updated or not.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>timelinesUpdated</CODE> - boolean</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>

				<img 
				src=../../../../../resources/logo.png 
				width=88 height=40
				>
			</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../../../../com/vodafone360/people/engine/activities/ActivitiesEngine.ISyncHelper.html" title="interface in com.vodafone360.people.engine.activities"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?com/vodafone360/people/engine/activities/ActivitiesEngine.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ActivitiesEngine.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

				<p align=right>
				<font class=NavBarFont1 size=-2>
				JavaDoc<br>
				</font>
				</p>
			
</BODY>
</HTML>
